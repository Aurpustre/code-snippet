const crypto = require('crypto');

const testText = 'TFMwdExTMUNSVWRKVGlCUVVrbFdRVlJGSUV0RldTMHRMUzB0Q2sxSlNVVjJVVWxDUVVSQlRrSm5hM0ZvYTJsSE9YY3dRa0ZSUlVaQlFWTkRRa3RqZDJkblUycEJaMFZCUVc5SlFrRlJSREp0ZWtoUmFtVjVlazA0ZG13S1UyWk9UVUZ5ZFZGWU9HWkdjVUZpZFhCb1lVbDVXVUpXVERZMk4yUk5hRkJST0hkdFVEZEpVWGRZY1M5RFFsZFhVVVZMZFZkVk56TkxNblJQTlhaelFRcFFPRkkzVFZaUkwyVXlaMmx3VDBkSk9GTXJaWGQ0Y21sTmVrdEdSMjFZTDBGQmFpOXZWa2h5VkRWa09FdzVZM1Z5U0hreFlrRnVUekZvWjJaMlVXeEtDbWd3Vmpoc2VESnNRa1kyY1RrMldteFdObUYwZEc5dU1rSjBRakE1WmxGcVQydHZlRUpyU0hWTU5VdENVV3hDUkM5U1QwbDBNV1FyUm1GUGJWUnNSbmtLWXk5cVRubEVNMm93VVhOWlUzUnZUR2xVVDNsa1JqRTRSMjFRWmxWTFVGVnNaSFZNWkV0WFpFUnJSR2hOTlVwdlYwazRWekJtWkc1TlkzSTJla1JVU3dwblNESTBZUzlUZDBnek1ITnZZblZqVlZBclEyRXZZbTh2UVhnNGJYUTFSRGt4TUVGclYyVlBjRVZrYjFabmVDOW9UV3N5VjFKdFdVSlNhazF1WkhSMENpdEhkWEUwYm1kYVFXZE5Ra0ZCUlVOblowVkJXVmd2VldaNVpFNTFWVUV5VldjMFpEQnBVMWRqWVhSamRWbHZTVk0xZVVFNWF6TnpibXRHS3pkUlFuTUtTR1ZMY0U5VmIyWndZalZLVVVoUU5ucFBMMVpNVldWRlJDOWpjbk4zVG1odk5sTlRhM28xWVd3NGNUZDZhelozUjAxME5ub3lUa2RKY2pad1REZFVWQXBPVEVkWU0xUkhlbmxNZDNOSlZqVnplbXBvUjBOb2FWQXZRMWh5V0dOclNXWm1hWE5uVjJwb2QwcGtjM05zTWpsbVVETmtiVmh4T1V0MlpHZDJXWGxzQ2pkT1dXSkJRak5xTTBZeWRUSk1WM2h6Um5kUVJXUnJaa3h5ZUcxNk0wWjVhMHMzYW1keU9HMVFSblVyU0ZCaGExbzBObEU0ZW1kSVRIVnFLMDB4TlU4S1ZqZzBUR3A0T0dsbWVuRTRhMHhEZFdoVllXbEdjV1JQWXpOTlEwczNZamxOU21VNGNYRjRNemxCZGtSemEybEJTaTh4ZG5KdE16WjRaMEUyUjJoaU9RbzRNVUo2ZERkR1pFMUZOSEZtU1c5eFNtMTBNMWxFY0ZSdmRXRktRbU5DZWxGVGNFcG9hbnB5ZGxGTFFtZFJSRGxQVDNOUGFFUk5lbFo0WkdGR2JWQmpDblpSWXk5akwyeE9kRVZYVHpkVFVGaEJUM2RLTVdKTFJFZFpOMEpNZGpCVkszbElMMWhMWkc1TVpITldla0kwUVhncmQweFZjWFJRUnl0QlJqVmpiVFlLWkRST2JFSnFhM0ZQVUZadWIyTXdia3hVUW1kM2QzQkZaVmRzY2xCVmRuUjVOVTlJV2tSMVRVWlNTRXRhUkVwdFNYZE9lbmhCTjJab1IyaElObkk1VlFwS2RXZE9XRTkzU3pKcFJtNTBXRk51Y0hKeVQxVkdUR3hsZDB0Q1oxRkVOVlEzUzA4ek1GaE9iMGh0Ym10eWNYcHROMFJvZFdWa2NWUnhVM1Y0Wm5wVENuQnZNV3hMY2xGUFkwWlViRE54UVN0blltOU1RVzFVYTJSQlJ6azFTbXhPWkZWdVZqaE9RbUpSVG1ORVJUZFRlblJvWnlzMlMwNXlOSEJKVGtjMmRIb0tTbE0zWkZSRWQzZERVMWhIYWs1M1NqaExaMDVtUWxReFpISnZiWHBqUlVzNWFucFpVVVpMWmpWTWVVTlNiRXhhUW1ab1ZsRnFibEIyY1hOVFFsTkxZd3AyU3pjM1FsVllRMlYzUzBKblJFVm9NV2h1WlRsTlFrWmhZbUZHUjJGTkt6SnBWWEJ5TTIxM1VFdzNZWEpHVjFCVVJEQnpVbHBNUTFweWVEbEVXVmxCQ25CRWQxVkZhbU50TkhCa09FZ3lXWFphUmtabFNGQmpaMmhZYzJaa2RVUkVValk1VjFsamEySm1RMGszWkhJM1prOWlMMDF0UkZad1ExWmtVbU5YV1ZjS1ZtVXllazlSY1ZwSEwyRldUVzFKTWpoUWFVcFdaMngzWlROMFdYaFFOMmt2WVhRMlIwTkxVelpIUW1wRFRuUjFjMnhvVG5CWlpqVkJiMGRDUVU5emNRbzFWR2hzYmxwbFFWSjVSSFJvUmxaR2FVRjZNR0ZxYWxvMEwyWkZXa1kxYW05eU5rdEZTSGRMVFRseU9VczVVM0ZWT0RWemRreFVUMUpLU2xZemRFY3dDakJEWjFKV2MybDBSMlZSWVVremNtUlRiazlWZVVGd1RrWjNNWE5UTUZvM1JGbEVUR3d6TmsxTmJXcGxiQzlTT0ZsR2ExQTRWV3N4WWtKVFRWRjNjbEFLUTAxbVNISlBhVTFRT1VReUszUkZhVVUwVTBGNWNqSlBhMmh0VjFwSVlrdGxTbVp3SzJ0eFprRnZSMEZNZDBGSmFIZFBOMDlSZUdVMlRUTnVPRGwyTWdvemQyTlpkVmcwUmxWUlZtOW9Vak5pV1U0MGJ5OVlXbU5NUkRCeWIzVkhjVEZNS3prM1QzTlRZMFZLY0ZVNGQxQnZTSGRhTTAxdFpuVjRSelI0VFdneUNsTjRWelJrTmtnd1JFOXpNRUp6YUhBeVZuWnRRMjlTUzFGSFNuUkVUR1p4YUdSc1UwNWhUVk5UVnl0NVVsYzBZMVp2YjFkc1V6RklRVEIzY2t4VVRuVUtOMnBPTWsxeVRYWjVabFZLWnk4NFJVY3hiSGRtT0hNOUNpMHRMUzB0UlU1RUlGQlNTVlpCVkVVZ1MwVlpMUzB0TFMwPQ==';

const {privateKey, publicKey} = crypto.generateKeyPairSync('rsa', {
    modulusLength: 2048,
    publicKeyEncoding: {
        type: 'spki',
        format: 'pem'
    },
    privateKeyEncoding: {
        type: 'pkcs8',
        format: 'pem'
    }
});


console.log(privateKey);
console.log(publicKey);

const encodedData = crypto.publicEncrypt(publicKey, Buffer.from('test','utf8')); // 传入utf8编码的数据
console.log(encodedData.toString('hex'));

const rawData = crypto.privateDecrypt(privateKey, Buffer.from(encodedData, 'hex')); // 传入hex(16进制)数据
console.log(rawData.toString('utf8'));
